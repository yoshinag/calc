<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>データ単位変換 (KB/KiB, MB/MiB, GB/GiB, TB/TiB)</title>
    <style>
        body{font-family:sans-serif;line-height:1.6;margin:20px;background-color:#f4f4f4;color:#333;}
        .container{max-width:600px;margin:0 auto;padding:20px;background-color:#fff;box-shadow:0 0 10px rgba(0,0,0,.1);border-radius:8px;}
        h1,h2{color:#555;border-bottom:2px solid #eee;padding-bottom:5px;margin-bottom:15px;}
        .input-group{margin-bottom:25px;}
        .result-group{margin-bottom:15px;}
        .result-item{margin-bottom:10px;}
        label{display:inline-block;width:100px;margin-right:10px;font-weight:bold;vertical-align:middle;}
        input[type="number"],input[type="text"],select{padding:8px;border:1px solid #ccc;border-radius:4px;font-size:1rem;box-sizing:border-box;vertical-align:middle;}
        input[type="number"]{width:150px;}
        input[type="text"][readonly]{background-color:#eee;width:150px;cursor:default;}
        select{width:100px;}
        .input-group label[for="inputUnit"]{width:auto;}
    </style>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1932463298924191"
     crossorigin="anonymous"></script>
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YP7BYDG752"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-YP7BYDG752');
</script>
<body>
<div class="container">
    <h1>データ単位変換</h1>
    <div class="input-group">
        <label for="inputValue">値:</label>
        <input type="number" id="inputValue" step="any" min="0" value="1024">
        <label for="inputUnit">単位:</label>
        <select id="inputUnit">
            <option value="kib">KiB</option><option value="mib">MiB</option><option value="gib">GiB</option><option value="tib">TiB</option>
            <option value="kb">KB</option><option value="mb">MB</option><option value="gb">GB</option><option value="tb">TB</option>
        </select>
    </div>
    <h2>結果:</h2>
    <div class="result-group">
        <div class="result-item"><label for="resultKib">KiB:</label><input type="text" id="resultKib" readonly></div>
        <div class="result-item"><label for="resultMib">MiB:</label><input type="text" id="resultMib" readonly></div>
        <div class="result-item"><label for="resultGib">GiB:</label><input type="text" id="resultGib" readonly></div>
        <div class="result-item"><label for="resultTib">TiB:</label><input type="text" id="resultTib" readonly></div>
        <div class="result-item"><label for="resultKb">KB:</label><input type="text" id="resultKb" readonly></div>
        <div class="result-item"><label for="resultMb">MB:</label><input type="text" id="resultMb" readonly></div>
        <div class="result-item"><label for="resultGb">GB:</label><input type="text" id="resultGb" readonly></div>
        <div class="result-item"><label for="resultTb">TB:</label><input type="text" id="resultTb" readonly></div>
    </div>
    <div class="explanation">
        <h3>「kb」と「KiB」などの単位の区別について</h3>
        <p>
            デジタルデータのサイズなどで使われる「キロ (k)」「メガ (M)」「ギガ (G)」といった接頭辞は、本来10の累乗（10³=1000倍、10⁶=1,000,000倍など）を表します。
            しかし、コンピューターの世界では2進数が基本であるため、便宜的に2の累乗（2¹⁰=1024倍、2²⁰=1,048,576倍など）を表すためにこれらの接頭辞が使われることがあり、混乱の原因となっていました。
        </p>
        <p>
            この混乱を解消するため、IEC（国際電気標準会議）は2の累乗を表すための新しい接頭辞を標準化しました。
            それが「キビ (kibi, Ki)」「メビ (mebi, Mi)」「ギビ (gibi, Gi)」「テビ (tebi, Ti)」などです。
        </p>
        <p>
            これらの標準に従うと、以下のようになります。
        </p>
        <ul>
            <li><code>kb</code> (kilobit): 10³ ビット = 1000 ビット</li>
            <li><code>KB</code> (kilobyte): 10³ バイト = 1000 バイト</li>
            <li><code>kib</code> (kibibit): 2¹⁰ ビット = 1024 ビット</li>
            <li><code>KiB</code> (kibibyte): 2¹⁰ バイト = 1024 バイト</li>
        </ul>
        <p>
            つまり、接頭辞が「k」の場合は1000倍、「Ki」の場合は1024倍を表すのが正しい使い方です。また、小文字の「b」は「ビット」、大文字の「B」は「バイト」を表します（1バイト = 8ビット）。
            ただし、古いシステムや一部の文脈では、まだ「KB」が1024バイトを意味するなど、標準と異なる使われ方がされている場合もあります。特にストレージ容量（HDD, SSDなど）は1000倍で、メモリ容量（RAM）は1024倍で計算されることが多いです。
        </p>
    </div>
</div>
<script>
    const a=document.getElementById('inputValue'),b=document.getElementById('inputUnit'),c=document.getElementById('resultKib'),d=document.getElementById('resultMib'),e=document.getElementById('resultGib'),f=document.getElementById('resultTib'),g=document.getElementById('resultKb'),h=document.getElementById('resultMb'),i=document.getElementById('resultGb'),j=document.getElementById('resultTb');
    const k=1e3,l=1e6,m=1e9,n=1e12,o=1024,p=1024**2,q=1024**3,r=1024**4;
    function s(t){if(isNaN(t))return'';let u=t.toFixed(10);if(u.includes('e'))return t.toExponential(6);return u.replace(/\.?0+$/,'');}
    function v(){
        const w=parseFloat(a.value),x=b.value;
        if(isNaN(w)){c.value=d.value=e.value=f.value=g.value=h.value=i.value=j.value='';return;}
        let y;
        switch(x){
            case'kib':y=w*o;break;case'mib':y=w*p;break;case'gib':y=w*q;break;case'tib':y=w*r;break;
            case'kb':y=w*k;break;case'mb':y=w*l;break;case'gb':y=w*m;break;case'tb':y=w*n;break;
            default:y=0;
        }
        c.value=s(y/o);d.value=s(y/p);e.value=s(y/q);f.value=s(y/r);
        g.value=s(y/k);h.value=s(y/l);i.value=s(y/m);j.value=s(y/n);
    }
    a.addEventListener('input',v);b.addEventListener('change',v);v();
</script>
</body>
</html>
